# 技术说明

## 技术特点

- VSCode 不提供字母方式的中文补全，只能通过中文输入法来输入中文。
- 实现中文补全，需要通过 VSCode 提供的补全接口，自行编写补全插件。

- VSCode 补全接口的「常规」使用方法可通过 AI 了解。
- 下面是开发过程中的碰到的一些问题和「特殊」解决方法。

## 实现策略

我们用于规避「VSCode 接口」和「语言支持插件」不足的一些方法：**

1、矫正补全锚点

> 有些语言服务器（如：Python 、Java）会做补全项的预过滤，根据当前光标是获取不到中文补全项的（已被语言服务器根据输入的字母过滤掉了）。
>获取之类语言的补全项，需要把补全锚点矫正到输入字母之前。

2、缓存补全项

> 有些特殊代码行，需要在起始阶段缓存补全项，后续阶段使用缓存（如：Python 的导入（无法通过矫正补全锚点，只能通过缓存的方式））

_通过以上方法，我们规避了大部分问题。只是受限于 VSCode 和相关语言服务器，有少数问题确实无法解决（通常影响很小）。_
_当然如果您有能力可以向 VSCode 和相关语言服务器提供补丁，或根据 VSCode 源代码自行构建一个中文友好的版本。_

## 少数无法规避的问题

部分语言服务器在实现某些补全时会绕过常规方式（见各语言的使用说明）
